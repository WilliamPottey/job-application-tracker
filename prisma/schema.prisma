generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id           Int                        @id @default(autoincrement())
  email        String                     @unique
  password     String
  createdAt    DateTime                   @default(now())
  applications JobApplication[]
}

enum ApplicationStatus {
  APPLIED
  INTERVIEW
  OFFER
  REJECTED
}

model JobApplication {
  id          Int                         @id @default(autoincrement())
  user        User                        @relation(fields: [userId], references: [id])
  userId      Int
  companyName String
  roleTitle   String
  status      ApplicationStatus           @default(APPLIED)
  appliedDate DateTime                    @default(now())
  createdAt   DateTime                    @default(now())
  updatedAt   DateTime                    @updatedAt

  @@index([userId])
}
